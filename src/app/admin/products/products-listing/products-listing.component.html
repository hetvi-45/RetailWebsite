<ion-content>
    <div class="product">
        <div class="product-header">
            <ion-button slot="end" color="primary" (click)="goBack()">Back</ion-button>
        </div>
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <!-- Position Column -->
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef><b>Name</b></th>
                <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>
            
            <!-- Name Column -->
            <ng-container matColumnDef="image">
                <th mat-header-cell *matHeaderCellDef> <b>Image</b> </th>
                <td mat-cell *matCellDef="let element"> <img src='{{ element.imageUrl }}' alt="" width="50" height="50"> </td>
            </ng-container>
            
            <!-- Weight Column -->
            <ng-container matColumnDef="price">
                <th mat-header-cell *matHeaderCellDef> <b>Price</b> </th>
                <td mat-cell *matCellDef="let element"> {{element.price}} </td>
            </ng-container>

            <ng-container matColumnDef="instock">
                <th mat-header-cell *matHeaderCellDef> <b>CountInStock</b> </th>
                <td mat-cell *matCellDef="let element"> {{element.count}} </td>
            </ng-container>

            <ng-container matColumnDef="edit/delete">
                <th mat-header-cell *matHeaderCellDef>Edit / Delete</th>
                <td mat-cell *matCellDef="let element; let i = index ">
                    <ion-button data-bs-toggle="modal" data-bs-target="#editModal" color="success" (click)="editProduct(element)"><ion-icon name="create-sharp"></ion-icon></ion-button>
                    <ion-button color="danger" (click)="deleteProduct(element.id)"><ion-icon name="trash-outline" ></ion-icon></ion-button>
                </td>
            </ng-container>
            
            
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
    
  </ion-content>
  <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="false">
     <div class="modal-dialog modal-dialog-scrollable">
       <div class="modal-content">
         <div class="modal-header">
           <h1 class="modal-title fs-9" id="exampleModalLabel">Edit Customer Details</h1>
           <button #showModal type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
         </div>
         <div class="modal-body">
           <app-products [isEdit]="false" [currProduct]="productelement" (closeModalEvent)="closeModal()"></app-products>
         </div>
         <!-- <div class="modal-footer">
           <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
           <button type="button" class="btn btn-primary">Save changes</button>
         </div>  -->
       </div>
     </div>
   </div> 